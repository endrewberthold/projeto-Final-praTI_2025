@use '../variables'

.navbar-container
    position: relative
    overflow: visible
  
.menu
    --duration: 0.7s
    margin: 0
    display: flex
    /* Works well with 100% width  */
    width: 100%
    padding: 0 2.85em
    position: relative
    align-items: center
    justify-content: center
    background-color: var(--accent-primary)
    gap: 4rem
    // border-bottom: 1px solid var(--border-primary)
    // transition: background-color 0.3s ease

    // Esconder navbar no mobile
    @media (max-width: 768px)
        display: none
    


.menu__item
    all: unset
    /* flex-grow: 1 */
    z-index: 100
    display: flex
    cursor: pointer
    position: relative
    border-radius: 50%
    align-items: center
    will-change: transform
    justify-content: center
    padding: 0.5rem
    transition: transform var(--duration, 0.7s)


.menu__item::before
    content: ""
    z-index: -1
    width: 3rem
    height: 3rem
    border-radius: 50%
    position: absolute
    transform: scale(0)
    transition: background-color var(--duration), transform var(--duration)



.menu__item.active 
    transform: translate3d(0, 0.8em , 0)


.menu__item.active::before
    transform: scale(1)
    background-color: var(--bgColorItem)


.menu__border 
    left: 0
    top: 100%
    width: 10rem
    height: 1.5rem
    position: absolute
    clip-path: url(#menu)
    will-change: transform
    background-color: var(--accent-primary)
    transition: transform var(--timeOut , var(--duration)), background-color 0.3s ease
    transform: translate3d(var(--initial-left, 0), 0, 0) /* valor inicial */
    z-index: 10

    .menu__border.active 
      transform: translate3d(0, 0.8em , 0)


.svg-container 
    width: 0
    height: 0


@media screen and (max-width: 50em) 
    .menu
        font-size: .8em


// Icones Lateral
.iconesLateral
  display: flex
  gap: 2rem
  justify-content: end
  display: flex
  position: absolute
  width: 100%
  align-items: center
 

  .icone-conteiner
    display: flex
    gap: 1rem

// Toggle
.themeToggle
  color: #ffffff
  width: 1.5rem
  transition: color 0.3s ease


.st-sunMoonThemeToggleBtn
  position: relative
  cursor: pointer

  .themeToggleInput
    opacity: 0
    width: 100%
    aspect-ratio: 1

  svg
    position: absolute
    left: 0
    width: 100%
    height: 100%
    transition: transform 0.4s ease
    transform: rotate(40deg)

    .sunMoon
      transform-origin: center center
      transition: inherit
      transform: scale(1)

    .sunRay
      transform-origin: center center
      transform: scale(0)

    mask > circle
      transition: transform 0.64s cubic-bezier(0.41, 0.64, 0.32, 1.575)
      transform: translate(0px, 0px)

    .sunRay2
      animation-delay: 0.05s !important
    .sunRay3
      animation-delay: 0.1s !important
    .sunRay4
      animation-delay: 0.17s !important
    .sunRay5
      animation-delay: 0.25s !important
    .sunRay5
      animation-delay: 0.29s !important

  .themeToggleInput
    &:checked + svg
      transform: rotate(90deg)

      mask > circle
        transform: translate(16px, -3px)

      .sunMoon
        transform: scale(0.55)

      .sunRay
        animation: showRay1832 0.4s ease 0s 1 forwards

@keyframes showRay1832
  0%
    transform: scale(0)
  100%
    transform: scale(1)

// Notificação

.button
  width: 2.6rem
  height: 2.5rem
  position: relative
  display: flex
  align-items: center
  justify-content: center
  border-radius: 50%
  cursor: pointer
  border: none
  background: none
  transition: all 0.3s ease

  path
    fill: #ffffff
    transition: fill 0.3s ease
    
  &:hover
    background-color: rgba(255, 255, 255, 0.1)
    transform: scale(1.05)


.icon
    width: 2rem
    height: 2.6rem
    stroke: white
    stroke-width: 1pt
    stroke-miterlimit: 10
    stroke-linecap: round
    stroke-linejoin: round
    stroke-dasharray: 400
    cursor: pointer
    transition: stroke 0.3s ease


@keyframes strok 
    100% 
        stroke-dashoffset: 400


// #icone-configuracao

//   &:hover
//     .svg-icon
//       animation: spin 2s linear infinite

// @keyframes spin
//   0%
//     transform: rotate(0deg)
//   100%
//     transform: rotate(360deg)

/* trecho básico — ajuste cores e espaçamentos conforme seu tema */
.profile-wrapper
  position: relative
  z-index: 9998
  
  .profile-button
    background: transparent
    border: none
    padding: 0.4rem
    cursor: pointer
    display: inline-flex
    align-items: center
    justify-content: center
    border-radius: variables.$border-radius-card
    transition: all 0.3s ease


.profile-dropdown
  position: absolute
  top: calc(100% + 1rem)
  right: 0
  background: var(--bg-secondary)
  border-radius: 12px
  box-shadow: var(--shadow-lg)
  min-width: 200px
  z-index: 9999
  padding: 0.5rem
  border: 1px solid var(--border-primary)
  transform: translateY(-10px) scale(0.95)
  opacity: 0
  will-change: transform, opacity
  backdrop-filter: blur(12px)
  animation: dropdownFadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards

  .profile-dropdown__item
    display: flex
    align-items: center
    gap: 0.875rem
    width: 100%
    padding: 0.875rem 1rem
    background: transparent
    border: none
    text-align: left
    cursor: pointer
    font-size: 0.95rem
    font-weight: 500
    color: var(--text-primary)
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
    border-radius: 8px
    position: relative
    overflow: hidden

    &::before
      content: ''
      position: absolute
      left: 0
      top: 0
      width: 0
      height: 100%
      background: var(--accent-primary)
      transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1)
      z-index: -1
    
    svg
      flex-shrink: 0
      width: 20px
      height: 20px
      opacity: 0.8
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
      color: var(--text-secondary)

  .profile-dropdown__item:hover
    background-color: rgba(99, 102, 241, 0.1)
    color: var(--accent-primary)
    transform: translateX(4px)
    
    &::before
      width: 3px
    
    svg
      opacity: 1
      color: var(--accent-primary)
      transform: scale(1.1)


/* exemplo para .button e .iconesLateral já existirem no seu arquivo */
/* ajuste conforme suas classes já criadas */
.iconesLateral
  display: flex
  align-items: center
  gap: 0.6rem

// Tema Dark - Estilos específicos
body.dark
  .menu
    background-color: var(--bg-secondary)
    border-bottom-color: var(--border-primary)
    box-shadow: var(--shadow-lg)
    
  .menu__item
    &.active::before
      background-color: var(--accent-primary)
      
  .menu__border
    background-color: var(--bg-secondary)
    
  .themeToggle
    color: var(--text-primary)
    
    &:hover
      color: var(--accent-primary)
      
  .button
    &:hover
      background-color: rgba(129, 140, 248, 0.2)
      
    path
      fill: var(--text-primary)
      
      &:hover
        fill: var(--accent-primary)
        
  .icon
    stroke: var(--text-primary)
    
    &:hover
      stroke: var(--accent-primary)
        
  .profile-wrapper
    z-index: 9998
    
    .profile-button
      &:hover
        background-color: rgba(129, 140, 248, 0.2)
        
  .st-sunMoonThemeToggleBtn
    svg
      .sunMoon,
      .sunRay
        fill: var(--text-primary)
        
      &:hover
        .sunMoon,
        .sunRay
          fill: var(--accent-primary)
          
  // Ícones laterais no tema dark
  .iconesLateral
    .icone-conteiner
      .themeToggle,
      .button,
      .icon
        color: var(--text-primary)
        
        &:hover
          color: var(--accent-primary)
          transform: scale(1.05)
          
  // Profile dropdown estilos específicos para dark mode
  .profile-dropdown
    background-color: var(--bg-secondary)
    border-color: var(--border-primary)
    box-shadow: var(--shadow-lg)
    backdrop-filter: blur(12px)
    
    .profile-dropdown__item
      color: var(--text-primary)
      
      svg
        opacity: 0.8
        color: var(--text-secondary)
      
      &:hover
        background-color: rgba(129, 140, 248, 0.15)
        color: var(--accent-primary)
        transform: translateX(4px)
        
        &::before
          width: 3px
        
        svg
          opacity: 1
          color: var(--accent-primary)
          transform: scale(1.1)
        
        svg
          opacity: 1
          color: #cbd5e1

@keyframes dropdownFadeIn
  from
    transform: translateY(-10px) scale(0.95)
    opacity: 0
  to
    transform: translateY(0) scale(1)
    opacity: 1

// SVG container e elementos restantes
.svg-container
  filter: brightness(0.9)
    
  // Menu items adicionais no tema dark
  // .menu__item
  //   color: var(--text-primary)
    
  //   &:hover
  //     transform: translateY(-2px)
  //     background-color: rgba(129, 140, 248, 0.1)
      
  //   &.active
  //     color: var(--accent-primary)
      
  //     &::before
  //       background-color: var(--accent-primary)
  //       box-shadow: 0 4px 15px rgba(129, 140, 248, 0.4)
        
